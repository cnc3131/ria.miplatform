<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="711" Id="my_menu" Left="8" PidAttrib="7" Title="left2" Top="8" Ver="1.0" Width="1024" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="tree">
				<Contents>
					<colinfo id="lev" size="256" summ="default" type="STRING"/>
					<colinfo id="data" size="256" summ="default" type="STRING"/>
					<record>
						<data>menu1</data>
						<lev>0</lev>
					</record>
					<record>
						<data>sub_menu1</data>
						<lev>1</lev>
					</record>
					<record>
						<data>sub_menu2</data>
						<lev>1</lev>
					</record>
					<record>
						<data>sub_menu3</data>
						<lev>1</lev>
					</record>
					<record>
						<data>menu2</data>
						<lev>0</lev>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_menu">
				<Contents>
					<colinfo id="MENUID" size="15" summ="default" type="STRING"/>
					<colinfo id="MENUNAME" size="160" summ="default" type="STRING"/>
					<colinfo id="MENUTYPE" size="10" summ="default" type="STRING"/>
					<colinfo id="MENULEVEL" size="1" summ="default" type="STRING"/>
					<colinfo id="MENUOPENTYPE" size="10" summ="default" type="STRING"/>
					<colinfo id="PREFIX" size="15" summ="default" type="STRING"/>
					<colinfo id="FORMID" size="20" summ="default" type="STRING"/>
					<colinfo id="FORMUSE" size="1" summ="default" type="STRING"/>
					<colinfo id="FORMSIZE" size="1" summ="default" type="STRING"/>
					<colinfo id="BTNAUTH" size="15" summ="default" type="STRING"/>
					<record>
						<BTNAUTH>000000010000000</BTNAUTH>
						<FORMID></FORMID>
						<FORMSIZE>1</FORMSIZE>
						<FORMUSE>0</FORMUSE>
						<MENUID>01000001</MENUID>
						<MENULEVEL>0</MENULEVEL>
						<MENUNAME>사용자&#32;메뉴</MENUNAME>
						<MENUOPENTYPE></MENUOPENTYPE>
						<MENUTYPE></MENUTYPE>
						<PREFIX></PREFIX>
					</record>
				</Contents>
			</Dataset>
		</Datasets>
		<Image Align="Left" Height="30" Id="Image0" ImageID="L_menubg1_S" LeftMargin="30" Style="L_menu_title" TabOrder="1" Text="Menu" Width="234"></Image>
		<TreeView BindDataset="gds_my_menu" Border="None" CollapseImageColumn="MENULEVEL" CollapseImageIndex="1" ExpandImageColumn="MENULEVEL" Height="338" Id="tv_Menu_n" ImageID="L_tree" ImageIndex="1" InnerImageCount="2" Left="2" LevelColumn="MENULEVEL" OnClick="tv_Menu_n_OnClick" OnDblClick="tv_Menu_n_OnDblClick" TabOrder="2" TEXTColumn="MENUNAME" Top="30" Width="232"></TreeView>
		<Shape BKColor="white" Bottom="398" Height="368" Id="Shape4" Left="1" LineColor="#93a3c7" Right="235" RoundHeight="6" RoundUnit="Pixel" RoundWidth="6" TabOrder="3" Top="30" Type="RoundRect" Width="234"></Shape>
	</Form>
	<Script><![CDATA[
// 실제 메뉴 Open 함수
function Open_url( nRow )
{
	var str_otype, str_prefix, str_url, str_gb, str_title = "";
	var str_Size, str_Auth, str_menuid;
	var ds_obj;
	
	ds_obj = Object(tv_Menu_n.BindDataset);
	
	if( ds_obj.GetColumn(nRow,"MenuType") == "메뉴" ) return;
	
	str_menuid = ds_obj.getcolumn(nRow,"MenuID");
	str_title  = ds_obj.getcolumn(nRow,"MenuName");
	str_otype = trim(ds_obj.getcolumn(nRow,"MenuOpenType"));
	str_prefix = ds_obj.getcolumn(nRow,"Prefix");
	str_url    = ds_obj.getcolumn(nRow,"Formid");	
	str_Size = ds_obj.getcolumn(nRow,"FormSize");
	str_Auth = ds_obj.getcolumn(nRow,"BtnAuth");	
	
	//alert("str_search :: " str_search + " : " + str_prefix + " / " + str_url);
	//var goGubun  = GDS_MENU.GetColumn(nNewRow,"gubun");
	
	if ((str_prefix != null) && (str_url != null) && length(str_url) !=0 ) 
	{
		// Golbal 함수 - Mdi Open
		
		if( Pos(str_url, ".xml") == -1 and str_prefix <> "IE" ) str_url = str_url + ".xml";
		gfn_OpenChildWindow(str_prefix, str_url, str_title, str_otype, str_Size, str_Auth, str_menuid);
	}
}


function tv_Menu_n_OnClick(obj,nOldRow,nNewRow)
{
	//Open_url( nNewRow );
}

function img_my_menu_OnClick(obj,nX,nY)
{
	ds_obj = Object(tv_Menu_n.BindDataset);
	
	var cRow = ds_obj.currow;
	
	str_menuid = ds_obj.getcolumn(nRow,"MenuID");
	str_title  = ds_obj.getcolumn(nRow,"MenuName");
	str_otype = trim(ds_obj.getcolumn(nRow,"MenuOpenType"));
	str_prefix = ds_obj.getcolumn(nRow,"Prefix");
	str_url    = ds_obj.getcolumn(nRow,"Formid");	
	str_Size = ds_obj.getcolumn(nRow,"FormSize");
	str_Auth = ds_obj.getcolumn(nRow,"BtnAuth");	
	
}

function tv_Menu_n_OnDblClick(obj,nRow)
{
	Open_url( nRow );
}
]]></Script>
</Window>